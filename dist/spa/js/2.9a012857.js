(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"6dec":function(t,a,e){"use strict";e("80dd")},"80dd":function(t,a,e){},"8b24":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("q-page",{staticClass:"bg-pink-800 text-gray-300 px-8 pt-3",class:t.bgClass},[s("div",{staticClass:"search-box"},[s("q-input",{attrs:{placeholder:"Enter city or country name...",borderless:"",dark:""},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.getWeatherBySearch(a)}},scopedSlots:t._u([{key:"before",fn:function(){return[s("q-icon",{attrs:{name:"location_on"},on:{click:t.getLocation}})]},proxy:!0},{key:"append",fn:function(){return[s("q-btn",{attrs:{round:"",dense:"",flat:"",icon:"search"},on:{click:t.getWeatherBySearch}})]},proxy:!0}]),model:{value:t.search,callback:function(a){t.search=a},expression:"search"}})],1),t.weatherData?[s("div",{staticClass:"text-center mt-52"},[s("div",{staticClass:"text-4xl"},[t._v("\n        "+t._s(t.weatherData.name)+", "+t._s(t.weatherData.sys.country)+"\n      ")]),s("div",{staticClass:"text-2xl text-gray-400 my-2"},[t._v("\n        "+t._s(t.weatherData.weather[0].main)+",\n        "+t._s(t.weatherData.weather[0].description)+"\n      ")]),s("div",{staticClass:"text-6xl text-gray-400"},[t._v("\n        "+t._s(Math.round(t.weatherData.main.temp))+"Â° C\n      ")]),s("div",{staticClass:"img-icon"},[s("img",{staticClass:"mx-auto",attrs:{src:"http://openweathermap.org/img/wn/"+t.weatherData.weather[0].icon+"@2x.png",alt:"weather-icon"}})])])]:[s("div",{staticClass:"text-center mt-52"},[s("div",{staticClass:"text-5xl"},[t._v("Quasar Weather")]),s("div",{staticClass:"location-btn mt-8"},[s("q-btn",{staticClass:"col btn",attrs:{flat:""},on:{click:t.getLocation}},[s("q-icon",{attrs:{left:"",size:"3em",name:"location_on"}}),s("div",[t._v("Find my location")])],1)],1)])],s("div",{staticClass:"skyline"},[s("img",{attrs:{src:e("ab32"),alt:"nhnhn"}})])],2)},n=[],i={name:"PageIndex",data(){return{search:"",weatherData:null,lat:null,lon:null,apiUrl:"http://api.openweathermap.org/data/2.5/weather",apiKey:"5edcdf4946c86c9b6f9bc51109f006b7"}},computed:{bgClass(){if(this.weatherData)return this.weatherData.weather[0].icon.endsWith("n")?"bg-night":"bg-day"}},methods:{getLocation(){this.$q.loading.show(),this.$q.platform.is.electron?this.$axios.get("https://freegeoip.app/json/").then((t=>{this.lat=t.data.latitude,this.lon=t.data.longitude,this.getWeatherByCoords()})):navigator.geolocation.getCurrentPosition((t=>{console.log("position: ",t),this.lat=t.coords.latitude,this.lon=t.coords.longitude,this.getWeatherByCoords()}))},getWeatherByCoords(){this.$q.loading.show(),this.$axios(`${this.apiUrl}?lat=${this.lat}&lon=${this.lon}&appid=${this.apiKey}&units=metric`).then((t=>{this.weatherData=t.data,this.$q.loading.hide()}))},getWeatherBySearch(){this.$q.loading.show(),this.$axios(`${this.apiUrl}?q=${this.search}&appid=${this.apiKey}&units=metric`).then((t=>{this.weatherData=t.data,this.$q.loading.hide()}))}}},o=i,r=(e("6dec"),e("2877")),c=e("9989"),l=e("27f9"),h=e("0016"),d=e("9c40"),p=e("eebe"),u=e.n(p),g=Object(r["a"])(o,s,n,!1,null,null,null);a["default"]=g.exports;u()(g,"components",{QPage:c["a"],QInput:l["a"],QIcon:h["a"],QBtn:d["a"]})},ab32:function(t,a,e){t.exports=e.p+"img/skyline.950c3221.png"}}]);